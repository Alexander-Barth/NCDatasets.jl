<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Variables · NCDatasets.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">NCDatasets.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../dataset/">Datasets</a></li><li class="is-active"><a class="tocitem" href>Variables</a><ul class="internal"><li><a class="tocitem" href="#Dimensions-1"><span>Dimensions</span></a></li><li><a class="tocitem" href="#Internals-of-a-variable-1"><span>Internals of a variable</span></a></li><li><a class="tocitem" href="#Creating-a-variable/dimension-1"><span>Creating a variable/dimension</span></a></li><li><a class="tocitem" href="#Coordinate-variables-1"><span>Coordinate variables</span></a></li></ul></li><li><a class="tocitem" href="../performance/">Performance tips</a></li><li><a class="tocitem" href="../issues/">Known issues</a></li><li><a class="tocitem" href="../experimental/">Experimental features</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Variables</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Variables</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/master/docs/src/variables.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Variables-1"><a class="docs-heading-anchor" href="#Variables-1">Variables</a><a class="docs-heading-anchor-permalink" href="#Variables-1" title="Permalink"></a></h1><p>Variables (like e.g. <code>CFVariable</code>) are the quantities contained within a NetCDF dataset. See the <a href="../dataset/#Datasets-1">Datasets</a> page on how to obtain them from a dataset.</p><p>Different type of arrays are involved when working with NCDatasets. For instance assume that <code>test.nc</code> is a file with a <code>Float32</code> variable called <code>var</code>. Assume that we open this data set in append mode (<code>&quot;a&quot;</code>):</p><pre><code class="language-julia">using NCDatasets
ds = NCDataset(&quot;test.nc&quot;,&quot;a&quot;)
v_cf = ds[&quot;var&quot;]</code></pre><p>The variable <code>v_cf</code> has the type <code>CFVariable</code>. No data is actually loaded from disk, but you can query its size, number of dimensions, number elements, etc., using the functions <code>size</code>, <code>ndims</code>, <code>length</code> as if <code>v_cf</code> was an ordinary Julia array.</p><p>To load the variable <code>v_cf</code> in memory as numeric data you can convert it into an array (preserving its dimensionality structure) with</p><pre><code class="language-julia">Array(v_cf)</code></pre><p>The syntax <code>v_cf[:]</code> is equivalent with the above, it doesn&#39;t make a <code>Vector</code> (like it does on normal Julia arrays).</p><p>You can only load sub-parts of it in memory via indexing each dimension:</p><pre><code class="language-julia">v_cf[1:5, 10:20]</code></pre><p>(here you must know the number of dimensions of the variable, as you must access all of them).</p><p>The following functions are convenient for working with variables:</p><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.dimnames" href="#NCDatasets.dimnames"><code>NCDatasets.dimnames</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dimnames(v::Variable)
dimnames(v::CFVariable)</code></pre><p>Return a tuple of strings with the dimension names of the variable <code>v</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L367-L372">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.dimsize" href="#NCDatasets.dimsize"><code>NCDatasets.dimsize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dimsize(v::CFVariable)</code></pre><p>Get the size of a <code>CFVariable</code> as a named tuple of dimension → length.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L386-L389">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.name" href="#NCDatasets.name"><code>NCDatasets.name</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">name(v::Variable)</code></pre><p>Return the name of the NetCDF variable <code>v</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L377-L381">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.nomissing" href="#NCDatasets.nomissing"><code>NCDatasets.nomissing</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">a = nomissing(da)</code></pre><p>Retun the values of the array <code>da</code> of type <code>Array{Union{T,Missing},N}</code> (potentially containing missing values) as a regular Julia array <code>a</code> of the same element type and checks that no missing values are present.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L454-L461">source</a></section><section><div><pre><code class="language-none">a = nomissing(da,value)</code></pre><p>Retun the values of the array <code>da</code> of type <code>Array{Union{T,Missing},N}</code> as a regular Julia array <code>a</code> by replacing all missing value by <code>value</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L480-L485">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.loadragged" href="#NCDatasets.loadragged"><code>NCDatasets.loadragged</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia"> data = loadragged(ncvar,index::Colon)</code></pre><p>Load data from <code>ncvar</code> in the <a href="https://web.archive.org/web/20190111092546/http://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_contiguous_ragged_array_representation">contiguous ragged array representation</a> as a vector of vectors. It is typically used to load a list of profiles or time series of different length each.</p><p>The <a href="https://web.archive.org/web/20190111092546/http://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_indexed_ragged_array_representation">indexed ragged array representation</a> is currently not supported.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L323-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.load!" href="#NCDatasets.load!"><code>NCDatasets.load!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">load!(ncvar::Variable, data, indices)</code></pre><p>Loads a NetCDF variables <code>ncvar</code> and puts the result in <code>data</code> along the specified <code>indices</code>.</p><pre><code class="language-julia">data = zeros(5,6); # must have the right shape and type
load!(ds[&quot;temp&quot;].var,data,:,:) # loads all data

data = zeros(5); # must have the right shape and type
load!(ds[&quot;temp&quot;].var,data,:,1) # loads the 1st column</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L295-L308">source</a></section></article><h2 id="Dimensions-1"><a class="docs-heading-anchor" href="#Dimensions-1">Dimensions</a><a class="docs-heading-anchor-permalink" href="#Dimensions-1" title="Permalink"></a></h2><p>Dimensions are the dependent variables of a dataset (the ones with respect a <code>Variable</code> is defined). They are obtained with using <a href="#NCDatasets.dimnames"><code>dimnames</code></a> on a <code>Variable</code>. We have the following functions relevant to them:</p><article class="docstring"><header><a class="docstring-binding" id="Base.setindex!-Tuple{NCDatasets.Dimensions,Any,AbstractString}" href="#Base.setindex!-Tuple{NCDatasets.Dimensions,Any,AbstractString}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Base.setindex!(d::Dimensions,len,name::AbstractString)</code></pre><p>Defines the dimension called <code>name</code> to the length <code>len</code>. Generally dimension are defined by indexing, for example:</p><pre><code class="language-julia">ds = NCDataset(&quot;file.nc&quot;,&quot;c&quot;)
ds.dim[&quot;longitude&quot;] = 100</code></pre><p>If <code>len</code> is the special value <code>Inf</code>, then the dimension is considered as <code>unlimited</code>, i.e. it will grow as data is added to the NetCDF file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/dataset.jl#L442-L455">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.unlimited-Tuple{NCDatasets.Dimensions}" href="#NCDatasets.unlimited-Tuple{NCDatasets.Dimensions}"><code>NCDatasets.unlimited</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">unlimited(d::Dimensions)</code></pre><p>Return the names of all unlimited dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/dataset.jl#L430-L434">source</a></section></article><h2 id="Internals-of-a-variable-1"><a class="docs-heading-anchor" href="#Internals-of-a-variable-1">Internals of a variable</a><a class="docs-heading-anchor-permalink" href="#Internals-of-a-variable-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.chunking" href="#NCDatasets.chunking"><code>NCDatasets.chunking</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">storage,chunksizes = chunking(v::Variable)</code></pre><p>Return the storage type (<code>:contiguous</code> or <code>:chunked</code>) and the chunk sizes of the varable <code>v</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L397-L402">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.deflate" href="#NCDatasets.deflate"><code>NCDatasets.deflate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">isshuffled,isdeflated,deflate_level = deflate(v::Variable)</code></pre><p>Return compression information of the variable <code>v</code>. If shuffle is <code>true</code>, then shuffling (byte interlacing) is activaded. If deflate is <code>true</code>, then the data chunks (see <code>chunking</code>) are compressed using the compression level <code>deflate_level</code> (0 means no compression and 9 means maximum compression).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L408-L416">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.checksum" href="#NCDatasets.checksum"><code>NCDatasets.checksum</code></a> — <span class="docstring-category">Function</span></header><section><div><p>checksummethod = checksum(v::Variable)</p><p>Return the checksum method of the variable <code>v</code> which can be either be <code>:fletcher32</code> or <code>:nochecksum</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/core/variables.jl#L422-L427">source</a></section></article><h2 id="Creating-a-variable/dimension-1"><a class="docs-heading-anchor" href="#Creating-a-variable/dimension-1">Creating a variable/dimension</a><a class="docs-heading-anchor-permalink" href="#Creating-a-variable/dimension-1" title="Permalink"></a></h2><pre><code class="language-">defDim
defVar</code></pre><h2 id="Coordinate-variables-1"><a class="docs-heading-anchor" href="#Coordinate-variables-1">Coordinate variables</a><a class="docs-heading-anchor-permalink" href="#Coordinate-variables-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="NCDatasets.coord" href="#NCDatasets.coord"><code>NCDatasets.coord</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">cv = coord(v::Union{CFVariable,Variable},standard_name)</code></pre><p>Find the coordinate of the variable <code>v</code> by the standard name <code>standard_name</code> or some <a href="https://web.archive.org/web/20190918144052/http://cfconventions.org/cf-conventions/cf-conventions.html#latitude-coordinate">standardized heuristics based on units</a>. If the heuristics fail to detect the coordinate, consider to modify the netCDF file to add the <code>standard_name</code> attribute. All dimensions of the coordinate must also be dimensions of the variable <code>v</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia">using NCDatasets
ds = NCDataset(&quot;file.nc&quot;)
ncv = ds[&quot;SST&quot;]
lon = coord(ncv,&quot;longitude&quot;)[:]
lat = coord(ncv,&quot;latitude&quot;)[:]
v = ncv[:]
close(ds)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Alexander-Barth/NCDatasets.jl/blob/230d20270262d36c8e2526351c03a3944a851d92/src/cfconventions.jl#L89-L107">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../dataset/">« Datasets</a><a class="docs-footer-nextpage" href="../performance/">Performance tips »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 14 January 2020 19:13">Tuesday 14 January 2020</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
